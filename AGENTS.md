# Repository Guidelines

## Project Structure

- `src/` — Application code (React + TypeScript).
  - `src/app/routes/` — TanStack Router file-based routes (e.g. `__root.tsx`, `index.tsx`).
  - `src/features/` — Feature modules (e.g. `journal/`, `data/`).
  - `src/components/` — Reusable UI + layout components.
  - `src/lib/` — Shared infrastructure (db, context, hooks, utils).
  - `src/styles/` — Shared styling tokens/utilities.
  - `src/routeTree.gen.ts` — Generated by the TanStack Router Vite plugin; do not edit by hand.
- `public/` — Static assets served as-is.
- Build output is ignored by git (`dist/`, `dev-dist/`).

## Build, Test, and Development Commands

Use `bun` or `npm` (repo includes `bun.lock`).

- `bun install` / `npm install` — Install dependencies.
- `npm run dev` — Start Vite dev server.
- `npm run build` — Production build.
- `npm run start` — Preview the production build locally.
- `npm run lint` — Lint with Biome.
- `npm run format` — Format with Biome.
- `npm run check` — Lint + format fixes + import organization (preferred before PRs).

## Coding Style & Naming Conventions

- Indentation: tabs (enforced by Biome).
- Quotes: double quotes (enforced by Biome).
- File naming: `kebab-case` (e.g. `use-keyboard-height.tsx`, `nav-bar.tsx`).
- React components: `PascalCase` component names; hooks start with `use*`.
- Imports: let Biome organize imports; prefer path alias `@/` (configured in `tsconfig.json`).

## Testing Guidelines

No automated test runner is configured currently. For changes, do a quick manual smoke test:

- Create/edit entries, navigate between routes, and verify export/import flows.

If you introduce tests, keep them colocated near the code they cover (e.g. `src/features/...`) and document the new command in `package.json`.

## Commit & Pull Request Guidelines

- Commit messages follow a simple type prefix: `feat:`, `fix:`, `chore:`, `docs:`, `style:`, `refactor:`, `tech:` + short imperative summary.
- PRs should include: what/why, any UX notes, and screenshots for UI changes.
- Avoid unrelated refactors; keep PRs focused and update docs when behavior changes.

## Security & Configuration Tips

- Data is local-first (IndexedDB via Starling); avoid introducing server-side assumptions or telemetry.
- Don’t commit secrets (`.env*` is ignored). Prefer configuration via code or documented env vars.
