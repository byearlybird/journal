@import "tailwindcss";

:root {
	--safe-area-top: max(env(safe-area-inset-top, 0px), 0.25rem);
	--safe-area-bottom: max(env(safe-area-inset-bottom, 0px), 0.25rem);
	--safe-area-left: max(env(safe-area-inset-left, 0px), 0.25rem);
	--safe-area-right: max(env(safe-area-inset-right, 0px), 0.25rem);

	--kb-offset: 0px;
	/* updated from JS when keyboard is open */
}

@theme {
	--font-sans: "Karla", -apple-system, sans-serif;
	--font-serif: "Lora", serif;

	/* "Safe" paddings that include insets */
	--spacing-app-top: calc(var(--safe-area-top) + 0.25rem);
	--spacing-app-bottom: calc(var(--safe-area-bottom) + 0.25rem);
	--spacing-app-left: calc(var(--safe-area-left) + 0.25rem);
	--spacing-app-right: calc(var(--safe-area-right) + 0.25rem);

	/* "Bottom with keyboard" spacing (for a floating toolbar, etc.) */
	--spacing-app-bottom-kb: calc(var(--spacing-app-bottom) + var(--kb-offset));
}

@utility app-container-kb {
	position: fixed;
	inset-inline: 0;
	bottom: 0;

	/* Base height: full dynamic viewport */
	height: 100dvh;

	/* Shrink when keyboard is visible */
	max-height: calc(100dvh - var(--kb-offset));

	/* Safe area support */
	padding-inline: var(--spacing-app-left) var(--spacing-app-right);
	padding-top: var(--spacing-app-top);
	padding-bottom: var(--spacing-app-bottom-kb);

	box-sizing: border-box;
	overflow: hidden;
	/* content decides its own scrolling */
}

/* Horizontal scroll container with snap behavior */
@utility horizontal-scroll-snap {
	display: flex;
	flex-direction: row;
	overflow-x: scroll;
	overflow-y: hidden;
	scroll-snap-type: x mandatory;
	scroll-behavior: smooth;
	overscroll-behavior-x: contain;
	width: 100%;
	height: 100%;
	-webkit-overflow-scrolling: touch;
}

/* Individual snap page */
@utility snap-page {
	scroll-snap-align: start;
	scroll-snap-stop: always;
	flex-shrink: 0;
	width: 100vw;
	height: 100%;
	overflow-y: auto;
	overflow-x: hidden;
	box-sizing: border-box;
}

@utility scrollbar-hidden {
	/* Hide scrollbar for Chrome, Safari and Opera */
	::-webkit-scrollbar {
		display: none;
	}

	/* Hide scrollbar for IE, Edge and Firefox */
	-ms-overflow-style: none;
	/* IE and Edge */
	scrollbar-width: none;
	/* Firefox */
}

body {
	@apply text-white/90 bg-black;
}

* {
	@apply border-white/10 divide-white/20 select-none scrollbar-hidden;
}

/* Keyframe animations */
@keyframes fadeIn {
	from {
		opacity: 0;
		transform: scale(0.9);
	}

	to {
		opacity: 1;
		transform: scale(1);
	}
}

@keyframes fadeOut {
	from {
		opacity: 1;
		transform: scale(1);
	}

	to {
		opacity: 0;
		transform: scale(0.9);
	}
}

@keyframes slideUp {
	from {
		opacity: 0;
		transform: translateY(5rem) scale(0.95);
	}

	to {
		opacity: 1;
		transform: translateY(0) scale(1);
	}
}

@keyframes slideOut {
	from {
		opacity: 1;
		transform: translateY(0) scale(1);
	}

	to {
		opacity: 0;
		transform: translateY(5rem) scale(0.95);
	}
}
