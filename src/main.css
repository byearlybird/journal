@import url("https://fonts.googleapis.com/css2?family=Karla:ital,wght@0,200..800;1,200..800&family=Lora:ital,wght@0,400..700;1,400..700&display=swap");
@import "tailwindcss";

/* Safe area CSS variables (not theme, just standard vars) */
:root {
  --safe-top: env(safe-area-inset-top, 0px);
  --safe-bottom: env(safe-area-inset-bottom, 0px);
  --safe-left: env(safe-area-inset-left, 0px);
  --safe-right: env(safe-area-inset-right, 0px);
}

@theme {
  /* Fonts */
  --font-sans: "Karla", sans-serif;
  --font-serif: "Lora", serif;

  /* Colors */
  --color-*: initial;

  /* Slate */
  --color-slate-dark: #191919;
  --color-slate-medium: #262625;
  --color-slate-light: #40403e;

  /* Cloud */
  --color-cloud-dark: #666663;
  --color-cloud-medium: #91918d;
  --color-cloud-light: #bfbfba;

  /* Ivory */
  --color-ivory-dark: #e5e4df;
  --color-ivory-medium: #f0f0eb;
  --color-ivory-light: #fafaf7;

  /* Warm tones */
  --color-gold-dark: #fada5e;
  --color-gold-medium: #fbe488;
  --color-gold-light: #fcecb0;

  /* Base */
  --color-black: #000000;
  --color-white: #ffffff;

  /* Semantic */
  --color-focus: #4da4f2;
  --color-error: #e54d43;

  /* Radii */
  --radius-*: initial;
  --radius-sm: 8px; /* inputs, buttons */
  --radius-md: 12px; /* cards */
  --radius-lg: 16px; /* modals */
  --radius-full: 9999px;

  /* Safe area spacing utilities */
  --spacing-safe-top: var(--safe-top);
  --spacing-safe-bottom: var(--safe-bottom);
  --spacing-safe-left: var(--safe-left);
  --spacing-safe-right: var(--safe-right);
}

@layer base {
  html {
    background-color: var(--color-slate-medium);
    font-family: var(--font-sans);
    color: var(--color-ivory-dark);
  }

  body {
    position: relative;
  }

  #root {
    isolation: isolate;
  }

  * {
    @apply divide-slate-light border-slate-light select-none;
    ::-webkit-scrollbar {
      display: none;
    }
    scrollbar-width: none;
    -ms-overflow-style: none;
  }

  button:focus-visible,
  [href]:focus-visible,
  input:focus-visible,
  textarea:focus-visible,
  select:focus-visible {
    outline: none;
    box-shadow: 0 0 0 2px var(--color-focus);
  }
}

/* --- Default Crossfade (Fallback/Generic) --- */
::view-transition-old(root) {
  animation: crossfade-out 0.25s forwards;
}
::view-transition-new(root) {
  animation: crossfade-in 0.25s forwards;
}
@keyframes crossfade-in {
  from {
    opacity: 0;
  }
  to {
    opacity: 1;
  }
}
@keyframes crossfade-out {
  from {
    opacity: 1;
  }
  to {
    opacity: 0;
  }
}

html:active-view-transition-type(slide-left) {
  &::view-transition-old(main-content) {
    animation: 300ms cubic-bezier(0.4, 0, 0.2, 1) both slide-out-left;
  }
  &::view-transition-new(main-content) {
    animation: 300ms cubic-bezier(0.4, 0, 0.2, 1) both slide-in-left;
  }
}

@keyframes slide-out-left {
  from {
    transform: translateX(0);
  }
  to {
    transform: translateX(-100%);
  }
}

@keyframes slide-in-left {
  from {
    transform: translateX(100%);
  }
  to {
    transform: translateX(0);
  }
}

/* Slide Right Transition */
html:active-view-transition-type(slide-right) {
  &::view-transition-old(main-content) {
    animation: 300ms cubic-bezier(0.4, 0, 0.2, 1) both slide-out-right;
  }
  &::view-transition-new(main-content) {
    animation: 300ms cubic-bezier(0.4, 0, 0.2, 1) both slide-in-right;
  }
}

@keyframes slide-out-right {
  from {
    transform: translateX(0);
  }
  to {
    transform: translateX(100%);
  }
}

@keyframes slide-in-right {
  from {
    transform: translateX(-100%);
  }
  to {
    transform: translateX(0);
  }
}
